{"ast":null,"code":"import { AUTH, LOGOUT } from '../constants/actionTypes'; //state可以指定为空初始化（缺省值）\n//因为state要被转换为posts，所以直接全写成posts\n// export default (state=[],action) => {\n//     ...\n//     ...\n// }\n//reducer函数不用直接使用，它会在dispatch函数中调用!!!\n// reducer接受state和action并返回新的state\n\nconst authReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    authData: null\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case AUTH:\n      console.log('This is reducer auth');\n      console.log(action === null || action === void 0 ? void 0 : action.data); //把数据存储在localstorage里\n      //1、localStorage拓展了cookie的4K限制；2、localStorage会可以将第一次请求的数据直接存储到本地，这个相当于一个5M大小的，针对于前端页面的数据库。\n\n      localStorage.setItem('profile', JSON.stringify({ ...(action === null || action === void 0 ? void 0 : action.data)\n      }));\n      return { ...state,\n        authData: action === null || action === void 0 ? void 0 : action.data\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;","map":{"version":3,"names":["AUTH","LOGOUT","authReducer","state","authData","action","type","console","log","data","localStorage","setItem","JSON","stringify"],"sources":["E:/Learn/FullStack/client/src/reducers/auth.js"],"sourcesContent":["import { AUTH, LOGOUT } from '../constants/actionTypes';\r\n//state可以指定为空初始化（缺省值）\r\n//因为state要被转换为posts，所以直接全写成posts\r\n// export default (state=[],action) => {\r\n//     ...\r\n//     ...\r\n// }\r\n\r\n\r\n//reducer函数不用直接使用，它会在dispatch函数中调用!!!\r\n// reducer接受state和action并返回新的state\r\n\r\n const authReducer=(state={authData:null}, action) => {\r\n    switch (action.type) {\r\n      case AUTH:\r\n        console.log('This is reducer auth')\r\n        console.log(action?.data)\r\n        //把数据存储在localstorage里\r\n        //1、localStorage拓展了cookie的4K限制；2、localStorage会可以将第一次请求的数据直接存储到本地，这个相当于一个5M大小的，针对于前端页面的数据库。\r\n        localStorage.setItem('profile', JSON.stringify({...action?.data}))\r\n        return {...state, authData:action?.data}\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\nexport default authReducer"],"mappings":"AAAA,SAASA,IAAT,EAAeC,MAAf,QAA6B,0BAA7B,C,CACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;;AAEC,MAAMC,WAAW,GAAC,YAAmC;EAAA,IAAlCC,KAAkC,uEAA5B;IAACC,QAAQ,EAAC;EAAV,CAA4B;EAAA,IAAXC,MAAW;;EAClD,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKN,IAAL;MACEO,OAAO,CAACC,GAAR,CAAY,sBAAZ;MACAD,OAAO,CAACC,GAAR,CAAYH,MAAZ,aAAYA,MAAZ,uBAAYA,MAAM,CAAEI,IAApB,EAFF,CAGE;MACA;;MACAC,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAe,EAAC,IAAGR,MAAH,aAAGA,MAAH,uBAAGA,MAAM,CAAEI,IAAX;MAAD,CAAf,CAAhC;MACA,OAAO,EAAC,GAAGN,KAAJ;QAAWC,QAAQ,EAACC,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAEI;MAA5B,CAAP;;IACF;MACE,OAAON,KAAP;EATJ;AAWD,CAZF;;AAcD,eAAeD,WAAf"},"metadata":{},"sourceType":"module"}